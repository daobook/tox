
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Development environment &#8212; tox 3.24.6.dev14 文档</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/toxfavi.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Platform specification" href="platform.html" />
    <link rel="prev" title="Using tox with the Jenkins Integration Server" href="jenkins.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="development-environment">
<h1>Development environment<a class="headerlink" href="#development-environment" title="永久链接至标题">¶</a></h1>
<p>tox can be used for just preparing different virtual environments required by a
project.</p>
<p>This feature can be used by deployment tools when preparing deployed project
environments. It can also be used for setting up normalized project development
environments and thus help reduce the risk of different team members using
mismatched development environments.</p>
<div class="section" id="creating-development-environments-using-the-devenv-option">
<h2>Creating development environments using the <code class="docutils literal notranslate"><span class="pre">--devenv</span></code> option<a class="headerlink" href="#creating-development-environments-using-the-devenv-option" title="永久链接至标题">¶</a></h2>
<p>The easiest way to set up a development environment is to use the <code class="docutils literal notranslate"><span class="pre">--devenv</span></code>
option along with your existing configured <code class="docutils literal notranslate"><span class="pre">testenv</span></code>s.  The <code class="docutils literal notranslate"><span class="pre">--devenv</span></code>
option accepts a single argument, the location you want to create a development
environment at.</p>
<p>For example, if I wanted to replicate the <code class="docutils literal notranslate"><span class="pre">py36</span></code> environment, I could run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ tox --devenv venv-py36 -e py36
...
$ source venv-py36/bin/activate
(venv-py36) $ python --version
Python 3.6.7
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--devenv</span></code> option skips the <code class="docutils literal notranslate"><span class="pre">commands=</span></code> section of that configured
test environment and always sets <code class="docutils literal notranslate"><span class="pre">usedevelop=true</span></code> for the environment that
is created.</p>
<p>If you don’t specify an environment with <code class="docutils literal notranslate"><span class="pre">-e</span></code>, the devenv feature will
default to <code class="docutils literal notranslate"><span class="pre">-e</span> <span class="pre">py</span></code> – usually taking the interpreter you’re running <code class="docutils literal notranslate"><span class="pre">tox</span></code>
with and the default <code class="docutils literal notranslate"><span class="pre">[testenv]</span></code> configuration.</p>
<p>It is possible to use the <code class="docutils literal notranslate"><span class="pre">--devenv</span></code> option without a tox configuration file,
however the configuration file is respected if present.</p>
</div>
<div class="section" id="creating-development-environments-using-configuration">
<h2>Creating development environments using configuration<a class="headerlink" href="#creating-development-environments-using-configuration" title="永久链接至标题">¶</a></h2>
<p>Here are some examples illustrating how to set up a project’s development
environment using tox. For illustration purposes, let us call the development
environment <code class="docutils literal notranslate"><span class="pre">dev</span></code>.</p>
<div class="section" id="example-1-basic-scenario">
<h3>Example 1: Basic scenario<a class="headerlink" href="#example-1-basic-scenario" title="永久链接至标题">¶</a></h3>
<div class="section" id="step-1-configure-the-development-environment">
<h4>Step 1 - Configure the development environment<a class="headerlink" href="#step-1-configure-the-development-environment" title="永久链接至标题">¶</a></h4>
<p>First, we prepare the tox configuration for our development environment by
defining a <code class="docutils literal notranslate"><span class="pre">[testenv:dev]</span></code> section in the project’s <code class="docutils literal notranslate"><span class="pre">tox.ini</span></code>
configuration file:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[testenv:dev]</span><span class="w"></span>
<span class="na">basepython</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">python2.7</span><span class="w"></span>
<span class="na">usedevelop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">True</span><span class="w"></span>
</pre></div>
</div>
<p>In it we state:</p>
<ul class="simple">
<li><p>what Python executable to use in the environment,</p></li>
<li><p>that our project should be installed into the environment using <code class="docutils literal notranslate"><span class="pre">setup.py</span>
<span class="pre">develop</span></code>, as opposed to building and installing its source distribution using
<code class="docutils literal notranslate"><span class="pre">setup.py</span> <span class="pre">install</span></code>.</p></li>
</ul>
<p>The development environment will reside in <code class="docutils literal notranslate"><span class="pre">toxworkdir</span></code> (default is <code class="docutils literal notranslate"><span class="pre">.tox</span></code>) just
like the other tox environments.</p>
<p>We can configure a lot more, if we want to. For example, we can add the
following to our configuration, telling tox not to reuse <code class="docutils literal notranslate"><span class="pre">commands</span></code> or
<code class="docutils literal notranslate"><span class="pre">deps</span></code> settings from the base <code class="docutils literal notranslate"><span class="pre">[testenv]</span></code>
configuration:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[testenv:dev]</span><span class="w"></span>
<span class="na">commands</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="na">deps</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
</pre></div>
</div>
</div>
<div class="section" id="step-2-create-the-development-environment">
<h4>Step 2 - Create the development environment<a class="headerlink" href="#step-2-create-the-development-environment" title="永久链接至标题">¶</a></h4>
<p>Once the <code class="docutils literal notranslate"><span class="pre">[testenv:dev]</span></code> configuration section has been defined, we create
the actual development environment by running the following:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>tox -e dev
</pre></div>
</div>
<p>This creates the environment at the path specified by the environment’s
<code class="docutils literal notranslate"><span class="pre">envdir</span></code> configuration value.</p>
</div>
</div>
<div class="section" id="example-2-a-more-complex-scenario">
<h3>Example 2: A more complex scenario<a class="headerlink" href="#example-2-a-more-complex-scenario" title="永久链接至标题">¶</a></h3>
<p>Let us say we want our project development environment to:</p>
<ul class="simple">
<li><p>use Python executable <code class="docutils literal notranslate"><span class="pre">python2.7</span></code>,</p></li>
<li><p>pull packages from <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>, located in the same directory as
<code class="docutils literal notranslate"><span class="pre">tox.ini</span></code>.</p></li>
</ul>
<p>Here is an example configuration for the described scenario:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[testenv:dev]</span><span class="w"></span>
<span class="na">basepython</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">python2.7</span><span class="w"></span>
<span class="na">usedevelop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">True</span><span class="w"></span>
<span class="na">deps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">-rrequirements.txt</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/img/tox.png" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">standardise testing in Python</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=tox-dev&repo=tox&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>






<div id="searchbox" style="display: none">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="搜索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

<h3>quicklinks</h3>
<div style="text-align: left; font-size: 100%; vertical-align: middle;">
<table>
<tr>
<td>
        <a href="../index.html">home</a>
</td><td>
        <a href="../examples.html">examples</a>
</td></tr><tr><td>
        <a href="../install.html">install</a>
</td><td>
        <a href="../changelog.html">changelog</a>
</td></tr><tr><td>
        <a href="../config.html">config</a>
</td><td>
        <a href="https://github.com/tox-dev/tox/issues">issues[gh]</a>
</td></tr><tr><td>
        <a href="../support.html">support</a>
</td><td>
        <a href="../plugins.html">plugins/hooks</a>
</td>
</tr></table>
</div>

  <div>
    <h3><a href="../index.html">目录</a></h3>
    <ul>
<li><a class="reference internal" href="#">Development environment</a><ul>
<li><a class="reference internal" href="#creating-development-environments-using-the-devenv-option">Creating development environments using the <code class="docutils literal notranslate"><span class="pre">--devenv</span></code> option</a></li>
<li><a class="reference internal" href="#creating-development-environments-using-configuration">Creating development environments using configuration</a><ul>
<li><a class="reference internal" href="#example-1-basic-scenario">Example 1: Basic scenario</a><ul>
<li><a class="reference internal" href="#step-1-configure-the-development-environment">Step 1 - Configure the development environment</a></li>
<li><a class="reference internal" href="#step-2-create-the-development-environment">Step 2 - Create the development environment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example-2-a-more-complex-scenario">Example 2: A more complex scenario</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../examples.html">tox configuration and usage examples</a><ul>
      <li>Previous: <a href="jenkins.html" title="上一章">Using tox with the Jenkins Integration Server</a></li>
      <li>Next: <a href="platform.html" title="下一章">Platform specification</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2010-2022, holger krekel and others.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    
    <a href="https://github.com/tox-dev/tox" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>